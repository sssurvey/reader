package com.haomins.data_model.remote.subscription

import com.google.gson.Gson
import org.junit.Assert.assertTrue
import org.junit.Before
import org.junit.Test

class SubscriptionSourceListResponseModelTest {

    private lateinit var gson: Gson
    private val testJson by lazy {
        "{\"subscriptions\":[{\"id\":\"feed/5eac86a9c70bc265a0000660\",\"title\":\"The Verge -  All Posts\",\"categories\":[],\"sortid\":\"5eac86a9c70bc265a0000660\",\"firstitemmsec\":\"1588364284000\",\"url\":\"https://www.theverge.com/rss/full.xml\",\"htmlUrl\":\"https://www.theverge.com/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/1a39/4645/75b6/4cde/1a33/icon_75be.ico\"},{\"id\":\"feed/5eac86e2c70bc2bb740006d8\",\"title\":\"Ars Technica\",\"categories\":[],\"sortid\":\"5eac86e2c70bc2bb740006d8\",\"firstitemmsec\":\"1588363195000\",\"url\":\"http://feeds.arstechnica.com/arstechnica/index\",\"htmlUrl\":\"https://arstechnica.com\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea0b/e721/ecc0/9200/icon_0003.ico\"},{\"id\":\"feed/5eac86efc70bc2e0d400066f\",\"title\":\"Slashdot\",\"categories\":[],\"sortid\":\"5eac86efc70bc2e0d400066f\",\"firstitemmsec\":\"1588362739000\",\"url\":\"http://rss.slashdot.org/Slashdot/slashdot\",\"htmlUrl\":\"https://slashdot.org/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea0b/e721/ec6e/2800/icon_032a.ico\"},{\"id\":\"feed/5e977b94fea0e74b940009d2\",\"title\":\"Apartment Therapy| Saving the world, one room at a time\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b94fea0e74b940009d2\",\"firstitemmsec\":\"1588363380000\",\"url\":\"https://www.apartmenttherapy.com/main.rss\",\"htmlUrl\":\"https://www.apartmenttherapy.com\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/aed8/46f0/d597/7899/27a7/icon_ce68.ico\"},{\"id\":\"feed/5e977b97fea0e74b940009e0\",\"title\":\"Get Rich Slowly\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b97fea0e74b940009e0\",\"firstitemmsec\":\"1588103245000\",\"url\":\"https://www.getrichslowly.org/feed/\",\"htmlUrl\":\"https://www.getrichslowly.org\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/ded4/c2c4/abc7/0363/8c0a/icon_2a79.ico\"},{\"id\":\"feed/5e977b99fea0e74b940009ee\",\"title\":\"What If?\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b99fea0e74b940009ee\",\"firstitemmsec\":\"1526918329000\",\"url\":\"https://what-if.xkcd.com/feed.atom\",\"htmlUrl\":\"https://what-if.xkcd.com/feed.atom\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/514d/5f3d/54cf/82ee/d000/icon_4675.ico\"},{\"id\":\"feed/5e977b9dfea0e74b94000a0d\",\"title\":\"The Old Reader: behind the scenes\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b9dfea0e74b94000a0d\",\"firstitemmsec\":\"1550788751000\",\"url\":\"http://blog.theoldreader.com/rss\",\"htmlUrl\":\"https://blog.theoldreader.com/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea09/bd92/7918/8800/icon_00a7.ico\"},{\"id\":\"feed/5e977ba2fea0e74b94000a1c\",\"title\":\"The Daily What\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977ba2fea0e74b94000a1c\",\"firstitemmsec\":\"1588348047000\",\"url\":\"https://thedailywhat.cheezburger.com/rss\",\"htmlUrl\":\"https://thedailywhat.cheezburger.com/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/514e/2249/54cf/8229/9701/icon_1be6.ico\"},{\"id\":\"feed/5e977ba4fea0e74b94000a2b\",\"title\":\"Simply Recipes\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977ba4fea0e74b94000a2b\",\"firstitemmsec\":\"1588342301000\",\"url\":\"http://feeds.feedburner.com/elise/simplyrecipes\",\"htmlUrl\":\"https://www.simplyrecipes.com\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea0b/e721/ecc0/9200/icon_019e.ico\"},{\"id\":\"tor/sponsored/0dd96ab5980319b244b086c3\",\"title\":\"The Old Reader Sponsored Posts\",\"categories\":[],\"sortid\":\"0dd96ab5980319b244b086c3\",\"firstitemmsec\":\"1588365358243\",\"url\":\"http://blog.theoldreader.com/rss\",\"htmlUrl\":\"https://theoldreader.com\",\"iconUrl\":\"//s.theoldreader.com/apple-touch-icon-72x72.png\"}]}"
    }

    @Before
    fun setup() {
        gson = Gson()
    }

    @Test
    fun testParseToClass() {
        val subscriptionResponseModel =
            gson.fromJson(testJson, SubscriptionSourceListResponseModel::class.java)
        assertTrue("feed/5eac86a9c70bc265a0000660" == subscriptionResponseModel.subscriptions[0].id)
    }

    @Test
    fun testParseToJson() {
        val validation =
            "{\"subscriptions\":[{\"id\":\"feed/5eac86a9c70bc265a0000660\",\"title\":\"The Verge -  All Posts\",\"categories\":[],\"sortid\":\"5eac86a9c70bc265a0000660\",\"firstitemmsec\":\"1588364284000\",\"url\":\"https://www.theverge.com/rss/full.xml\",\"htmlUrl\":\"https://www.theverge.com/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/1a39/4645/75b6/4cde/1a33/icon_75be.ico\"},{\"id\":\"feed/5eac86e2c70bc2bb740006d8\",\"title\":\"Ars Technica\",\"categories\":[],\"sortid\":\"5eac86e2c70bc2bb740006d8\",\"firstitemmsec\":\"1588363195000\",\"url\":\"http://feeds.arstechnica.com/arstechnica/index\",\"htmlUrl\":\"https://arstechnica.com\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea0b/e721/ecc0/9200/icon_0003.ico\"},{\"id\":\"feed/5eac86efc70bc2e0d400066f\",\"title\":\"Slashdot\",\"categories\":[],\"sortid\":\"5eac86efc70bc2e0d400066f\",\"firstitemmsec\":\"1588362739000\",\"url\":\"http://rss.slashdot.org/Slashdot/slashdot\",\"htmlUrl\":\"https://slashdot.org/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea0b/e721/ec6e/2800/icon_032a.ico\"},{\"id\":\"feed/5e977b94fea0e74b940009d2\",\"title\":\"Apartment Therapy| Saving the world, one room at a time\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b94fea0e74b940009d2\",\"firstitemmsec\":\"1588363380000\",\"url\":\"https://www.apartmenttherapy.com/main.rss\",\"htmlUrl\":\"https://www.apartmenttherapy.com\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/aed8/46f0/d597/7899/27a7/icon_ce68.ico\"},{\"id\":\"feed/5e977b97fea0e74b940009e0\",\"title\":\"Get Rich Slowly\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b97fea0e74b940009e0\",\"firstitemmsec\":\"1588103245000\",\"url\":\"https://www.getrichslowly.org/feed/\",\"htmlUrl\":\"https://www.getrichslowly.org\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/ded4/c2c4/abc7/0363/8c0a/icon_2a79.ico\"},{\"id\":\"feed/5e977b99fea0e74b940009ee\",\"title\":\"What If?\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b99fea0e74b940009ee\",\"firstitemmsec\":\"1526918329000\",\"url\":\"https://what-if.xkcd.com/feed.atom\",\"htmlUrl\":\"https://what-if.xkcd.com/feed.atom\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/514d/5f3d/54cf/82ee/d000/icon_4675.ico\"},{\"id\":\"feed/5e977b9dfea0e74b94000a0d\",\"title\":\"The Old Reader: behind the scenes\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977b9dfea0e74b94000a0d\",\"firstitemmsec\":\"1550788751000\",\"url\":\"http://blog.theoldreader.com/rss\",\"htmlUrl\":\"https://blog.theoldreader.com/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea09/bd92/7918/8800/icon_00a7.ico\"},{\"id\":\"feed/5e977ba2fea0e74b94000a1c\",\"title\":\"The Daily What\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977ba2fea0e74b94000a1c\",\"firstitemmsec\":\"1588348047000\",\"url\":\"https://thedailywhat.cheezburger.com/rss\",\"htmlUrl\":\"https://thedailywhat.cheezburger.com/\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/514e/2249/54cf/8229/9701/icon_1be6.ico\"},{\"id\":\"feed/5e977ba4fea0e74b94000a2b\",\"title\":\"Simply Recipes\",\"categories\":[{\"id\":\"user/-/label/The Old Reader Picks\",\"label\":\"The Old Reader Picks\"}],\"sortid\":\"5e977ba4fea0e74b94000a2b\",\"firstitemmsec\":\"1588342301000\",\"url\":\"http://feeds.feedburner.com/elise/simplyrecipes\",\"htmlUrl\":\"https://www.simplyrecipes.com\",\"iconUrl\":\"//s.theoldreader.com/system/uploads/feed/picture/50e2/ea0b/e721/ecc0/9200/icon_019e.ico\"},{\"id\":\"tor/sponsored/0dd96ab5980319b244b086c3\",\"title\":\"The Old Reader Sponsored Posts\",\"categories\":[],\"sortid\":\"0dd96ab5980319b244b086c3\",\"firstitemmsec\":\"1588365358243\",\"url\":\"http://blog.theoldreader.com/rss\",\"htmlUrl\":\"https://theoldreader.com\",\"iconUrl\":\"//s.theoldreader.com/apple-touch-icon-72x72.png\"}]}"
        val subscriptionResponseModel =
            gson.fromJson(testJson, SubscriptionSourceListResponseModel::class.java)
        assertTrue(validation == gson.toJson(subscriptionResponseModel))
    }
}